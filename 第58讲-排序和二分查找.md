# 排序

- 实现归并排序

```js
// 归并的递推公式: `merge_sort(p...r) = merge(merge_sort(p...q), merge_sort(q+1...r))`, 终止条件为: p >= r
function MergeSort(arr) {
    return PartialMergeSort(arr, 0, arr.length-1)
}

function PartialMergeSort(arr, start, end) {
    if (start >= end) {
        return
    }
    const mid = (start + end) >> 1;
    PartialMergeSort(arr, start, mid);
    PartialMergeSort(arr, mid+1, end);
    Merge(arr,start, mid,end)
}

function Merge(arr, start, mid, end) {
    let i = start, j = mid+1, temp_arr = [], index = 0;
    while(i <= mid && j <= end) {
        if (arr[i] <= arr[j]) {
            temp_arr[index] = arr[i]
            i ++
        } else {
            temp_arr[index] = arr[j]
            j ++
        }
        index ++
    }
    while (i <= mid) {
        temp_arr[index] = arr[i]
        i ++
        index ++
    }
    while(j <= end) {
        temp_arr[index] = arr[j]
        j ++
        index ++
    }
    for (let p = 0; p < index; p++) {
        arr[start + p] = temp_arr[p]
    }
}

var a = [1,5,4,3,2,6]

MergeSort(a)
```

- 实现快速排序

```js
function QuickSort(arr) {
    PartialQuickSort(arr, 0, arr.length-1)
}

function PartialQuickSort(arr, start, end) {
    if (start >= end) return 
    const mid = quick(arr, start, end)
    PartialQuickSort(arr, start, mid-1)
    PartialQuickSort(arr, mid+1,end)
}

function quick(arr, start, end) {
    let mid_num = arr[end], left_side = [], right_side = [];
    for (let i = start; i <= end; i ++) {
        if (arr[i] > mid_num) {
            right_side.push(arr[i])
        } else {
            left_side.push(arr[i])
        }
    }
    let mid_index = left_side.length-1;
    const new_arr = left_side.concat(right_side);
    for (let i = 0; i < new_arr.length; i ++) {
        arr[start+i] = new_arr[i]
    }
    return start+mid_index
}

var a = [1,5,4,3,2,6]

QuickSort(a)
```

